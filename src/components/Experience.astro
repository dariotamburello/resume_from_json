---
import { getLangFromUrl, useTranslations } from "@/i18n/utils";
const { work_experience } = Astro.props.cv;
import HeaderTitle from "./common/HeaderTitle.astro";
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section>
  <HeaderTitle icon="üíº">{t("experience.title")}</HeaderTitle>
  {
    work_experience.toReversed().map((exp) => (
      <div class="flex flex-col mt-4 pl-2 text-neutral-800 dark:text-neutral-300">
        <div class="flex flex-row gap-2 mb-0">
          <p class="text-xs">
            üìÖ {exp.startDate} - {exp.endDate}
          </p>
          <p class="text-xs">üìç {exp.location}</p>
        </div>
        <div>
          <h2 class="text-base mb-1">
            {exp.name} - <strong>{exp.position}</strong>
          </h2>
        </div>
        <ul class="px-4">
          {exp.tasks.map((task) => (
            <li class="list-disc mb-1 text-xs">{task}</li>
          ))}
        </ul>
      </div>
    ))
  }
</section>
